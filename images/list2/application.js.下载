!function(a,b,c){function d(a){b.each(a,function(a,c){var d=b(c),e=b(c).parent(),f=d.data("src"),g=new Image;d[0]&&!e.hasClass("loaded")&&""!==f&&f&&(g.src=f,b(g).bind("load",function(){d.attr("src",f),e.addClass("loaded")}).bind("error",function(){d.complete&&e.addClass("failed")}))})}function e(a){var c={effect:"i-super-scale",fixed:!0,lock:!0,drag:!1};a&&b.extend(c,a),iDialog(c)}function f(a){var b=document.getElementById("btn_area__keyword"),c=document.getElementById("btn_area__defaultkeyword__item");b.value||(b.value=c.childNodes[1].innerHTML,document.getElementById("btn_area__defaultkeyword").style.display="none")}function g(a){setTimeout(function(){var a=document.getElementById("btn_area__keyword"),b=document.getElementById("btn_area__defaultkeyword");a.value?b.style.display="none":b.style.display="block"},200)}function h(a,b){var c=i(),d="",e="",f="";return c&&0!=c?(d=a,e=b,f=Number(e)>1):c="",{siteid:"kf_9241",settingid:"kf_9241_1461918201981",uid:c,uname:d,isvip:f,userlevel:e,erpparam:"abc"}}function i(){return Cookies.get("uxuan_user_id")}function j(){return i()&&0!=i()}function k(d){e({title:"账户登录",width:"395",height:"433",padding:"48px 40px",background:"rgba(119, 119, 119, 0.5)",content:'<form class="login_form"><input class="account" placeholder="邮箱或手机号" name="login"/><input class="password"  type="password" placeholder="输入密码" name="password"/><input class="forget_btn" name="" type="checkbox" value="" checked/><span class="remember_account">记住账号</span><span class="old_user">优众老用户可以用优众账号登录</span><input class="login_button" type="submit" value="登录"><a class="sina_link" href="" target=""><span class="sina_icon"></span><span class="link_name">微博登录</span></a><div class="forget_password"><a href="/register" target="">还没有账号？<span class="free_resister">免费注册</span><a/></div></form>',init:function(){var e=this;c.login_site({site:"sina",redirect:a.location.href},function(a){b(".sina_link").attr("href",a.url)}),b(".login_form").validate({rules:{login:{required:!0},password:{required:!0}},messages:{login:{required:"姓名不能为空"},password:{required:"密码不能为空"}},submitHandler:function(a){var f=b(a).serializeArray();b.map(f,function(a,b){return a.name="account["+a.name+"]"}),c.login(f,function(a){a.account?(d&&d(!0),e.hide()):alert("用户名或密码输入错误")})}})}})}function l(a,c){b.ajax({url:X+"/users/0.json",type:"POST",data:"_method=put&"+a,dataType:"json",success:function(a){c(a)},error:function(){c(null)}})}function m(a){b.ajax({url:"http://t.ihaveu.com/qqips.jsonp",dataType:"script",success:function(){a(result)},error:function(){a(null)}})}function n(a,c){b.ajax({url:X+"/sessions.json",type:"POST",data:a,dataType:"json",success:function(a){a.account&&Cookies.set("uxuan_user_id",a.account.id),c&&c(a)},error:function(){c&&c(!1)}})}function o(a){b.ajax({url:X+"/sessions/"+i()+".json",type:"POST",dataType:"json",data:"_method=delete",success:function(b){Cookies.set("uxuan_user_id",0),a&&a(b)},error:function(){a&&a(!1)}})}function p(a,c){b.ajax({url:X+"/accounts.json",type:"POST",data:a,dataType:"json",success:function(a){a.account&&Cookies.set("uxuan_user_id",0),c&&c(a)},error:function(){c&&c(!1)}})}function q(a,c){b.extend(a),b.ajax({url:X+"/retail/carts.json",type:"POST",data:a,success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function r(a,c){b.ajax({url:X+"/retail/carts/"+a+".json",type:"DELETE",dataType:"json",data:"_method=delete",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function s(a,c,d){b.ajax({url:"/destroyIhaveu/0?ids="+a+"&trade_id="+c,type:"DELETE",dataType:"json",success:function(a){d&&d(a)},error:function(){d&&d(!1)}})}function t(a,c){b.ajax({url:X+"/retail/carts/"+a+".json",type:"POST",dataType:"json",data:"_method=delete",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function u(a){b.ajax({url:"/carts",type:"GET",dataType:"json",success:function(b){a&&a(b)},error:function(){a&&a(null)}})}function v(a,c,d){b.ajax({url:"/carts/"+a,data:"_method=put&count_products="+c,dataType:"json",type:"post",success:function(a){d&&d(a.trade)},error:function(){d&&d(!1)}})}function w(a,c){b.ajax({type:"post",url:X+"/auction/contacts.json",data:a,dataType:"json",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function x(a,c,d){b.ajax({type:"post",url:X+"/auction/contacts/"+a+".json",data:"_method=put&"+c,dataType:"json",success:function(a){d&&d(a)},error:function(){d&&d(!1)}})}function y(a,c){b.ajax({url:X+"/auction/contacts/"+a+".json",type:"POST",dataType:"json",data:"_method=delete",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function z(a,c){b.ajax({type:"post",url:X+"/core/users/"+i()+".json",data:"_method=put&"+a,dataType:"json",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function A(a,c){b.ajax({url:X+"/auction/trades/"+a+"/express_pay.json",data:"_method=put",dataType:"json",type:"post",success:function(a){c&&c(a.trade)},error:function(){c&&c(!1)}})}function B(a,c,d){b.ajax({url:X+"/auction/trades/"+a+"/checkout.json",data:"trade[payment_service]="+c+"&redirect="+CONFIG.self_host+"/pay_success.html",type:"get",dataType:"json",success:function(a){d&&d(a)},error:function(){d&&d(!1)}})}function C(a,c,d){b.ajax({url:X+"/auction/trades/"+a+"/"+c+"_query.json",data:"_method=put",dataType:"json",type:"post",success:function(a){d&&d(a.trade)},error:function(){d&&d(!1)}})}function D(a,c){b.ajax({url:X+"/auction/trades/"+a+".json",dataType:"json",type:"get",success:function(a){c&&c(a.trade)},error:function(){c&&c(!1)}})}function E(a,c){b.ajax({url:X+"/auction/trades/"+a+"/receive.json",data:"_method=put",dataType:"json",type:"post",success:function(a){c&&c(a.trade)},error:function(){c&&c(!1)}})}function F(a,c){b.ajax({url:X+"/auction/trades/"+a+"/cancel.json",data:"_method=put",dataType:"json",type:"post",success:function(a){c&&c(a.trade)},error:function(){c&&c(!1)}})}function G(a,c){var d=X+"/auction/trades/"+a+"/delivery_query.json";b.ajax({url:d,dataType:"json",type:"get",success:function(a){c&&c(a)},error:function(){c&&c(null)}})}function H(a,c){b.ajax({url:X+"/auction/trades.json",data:a,type:"POST",dataType:"json",success:function(a){c&&c(a.trade),console.log(a.trade)},error:function(){c&&c(!1)}})}function I(a,c){b.ajax({url:X+"/core/connections/new.json",data:a,type:"GET",dataType:"json",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function J(a,c){b.ajax({url:X+"/accounts/0.json?account[login]="+a,type:"GET",dataType:"json",success:function(a){c&&c(a)},error:function(){c&&c(null)}})}function K(a){b.ajax({url:X+"/accounts/captcha_image.json",type:"GET",dataType:"json",success:function(b){a&&a(b)},error:function(){a&&a(null)}})}function L(a,c){b.ajax({url:X+"/accounts/validate_captcha.json",type:"POST",data:"captcha="+a,dataType:"json",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function M(a,c){b.ajax({url:X+"/auction/trades/"+a+"/delivery_query.json",type:"GET",dataType:"json",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function N(a,c){b.ajax({url:X+"/core/accounts/"+i()+".json",data:"_method=put&"+a,dataType:"json",type:"post",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function O(a,c,d,e){b.ajax({url:X+"/auction/trades/"+c+"/units/"+a+"/returning.json",data:"_method=put&"+d,dataType:"json",type:"post",success:function(a){console.log(a),e&&e(a)},error:function(){e&&e(!1)}})}function P(a,c){b.ajax({url:X+"/core/accounts/0.json",data:a,dataType:"json",type:"get",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function Q(a,c){b.ajax({url:X+"/accounts/resend_activation_code.json",data:a,dataType:"json",type:"POST",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function R(a,c){b.ajax({url:X+"/accounts/reset.json",data:a,dataType:"json",type:"POST",success:function(a){console.log("11"),c&&c(a)},error:function(){c&&c(!1)}})}function S(a,c,d){console.log(a),b.ajax({url:X+"/accounts/"+c+"/activate.json",data:a,dataType:"json",type:"post",success:function(a){d&&d(a),Cookies.set("uxuan_user_id",a.id),console.log("ok")},error:function(){d&&d(!1)}})}function T(a,c,d){console.log(a),b.ajax({url:X+"/accounts/"+c+".json",data:a,dataType:"json",type:"post",success:function(a){d&&d(a)},error:function(){d&&d(!1)}})}function U(a,c){b.ajax({url:X+"/core/accounts/reset.json",data:a,dataType:"json",type:"post",success:function(a){c&&c(a)},error:function(){c&&c(!1)}})}function V(a){b.ajax({url:"/cartslist",dataType:"json",type:"post",success:function(b){a&&a(b)},error:function(){a&&a(!1)}})}function W(a,c){b.ajax({url:X+"/auction/vouchers/1.json",data:a,dataType:"json",type:"POST",success:function(a){console.log(a),c&&c(a)},error:function(){c&&c(!1)}})}var X=CONFIG.host;b("#iframe")[0]||b.ajaxSetup({xhrFields:{withCredentials:!0}}),a.init_iframe=function(){document.domain="ihaveu.com",b.support.cors=!0,b.ajaxSetup({beforeSend:function(a,c){c.crossDomain&&(c.xhr=b("#iframe")[0].contentWindow.xhr)}})},b.fn.delpx_css=function(a){return parseInt(b(this).css(a).split("px")[0])},b.extend(c,{base_url:X,lazy_load:d,initDialog:e,login_idialog:k,login:n,logout:o,add_cart:q,del_cart_products:r,del_cart_product:t,del_cart_products_id:s,get_cart:u,update_cart:v,get_ntkf_base_param:h,on_normal_header_search_submit:f,on_normal_header_text_change:g,get_user_id:i,check_login:j,get_ip:m,save_contact:w,update_default_address:z,update_contact:x,delete_contact:y,set_account:l,checkout_pay:B,pay_query:C,get_trade:D,confirm_trade:E,cancel_trade:F,get_delivery:G,express_pay:A,create_trade:H,login_site:I,get_captcha:K,validate_captcha:L,need_captcha:J,register:p,delivery_detail:M,change_password:N,return_goods:O,user_info:P,user_find_password:U,cart_layer:V,add_vou:W,sends:Q,send_ok:S,sends_send:R,gengxin:T})}(window,jQuery,window.app=window.app||{});